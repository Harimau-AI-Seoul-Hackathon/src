<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>resQ : Ready to Rescue</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <!-- Add this in your <head> if not already included -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>
<style>
    .evacuation-container {
  margin-top: 1rem;
  background-color: #fefefe;
  padding: 1rem;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
    .info-box {
    font-size: 1.1rem;
    font-weight: bold;
    margin-bottom: 0.75rem;
    color: #b91c1c;
    background-color: #fee2e2;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    }

    #evacuation {
    height: 500px; /* or whatever height fits your design */
    width: 100%;
    z-index: 1;
    overflow: hidden;
    }


    #map {
    height: 500px; /* or whatever height fits your design */
    width: 60%;
    z-index: 1;
    }


    .content-section {
      padding: 20px;
    }

    iframe {
      border: none;
      border-radius: 10px;
    }
</style>
<body class="bg-gray-100">
    <header class="bg-red-600 text-white p-6">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="text-center md:text-left">
                <h1 class="text-3xl font-bold" style="color:white;">resQ: Ready to Rescue</h1>
                <p class="text-lg">24/7 Emergency Assistance & Support</p>
            </div>
            <div class="flex items-center space-x-4 mt-4 md:mt-0">
                <a href="/contact">
                    <button class="bg-white text-red-800 px-4 py-2 rounded flex items-center gap-2 hover:bg-red-800 hover:text-black">
                        <i class="fas fa-phone"></i> Emergency Contact
                    </button>
                </a>
                <a href="https://together.kakao.com/">
                    <button class="bg-white text-red-800 px-4 py-2 rounded flex items-center gap-2 hover:bg-red-800 hover:text-black">
                        <i class="fas fa-heart"></i> Let's Donate
                    </button>
                </a>
                <button class="bg-white text-red-800 px-4 py-2 rounded hover:bg-red-800 hover:text-black" onclick="adjustFontSize('small')">a</button>
                <button class="bg-white text-red-800 px-4 py-2 rounded hover:bg-red-800 hover:text-black" onclick="adjustFontSize('large')">A</button>
            </div>
        </div>
    </header>
    
    <main class="container mx-auto py-8">
        <h2 class="text-2xl font-bold mb-2 flex items-center gap-2">
            <i class="fas fa-exclamation-triangle"></i> <!-- Changed to warning icon -->
            What Happened?
        </h2>
        <p class="mb-1">Select the type of emergency you're experiencing to get immediate assistance and information</p>      
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2">    
        </div>

      <div class="grid-container"> <!-- Arif -->
        <div class="box" onclick="showPopup('info1')"><i class="fas fa-fire text-2xl"></i><h2 class="text-xl font-bold">Fire</h2></div>
        <div class="box" onclick="showPopup('info2')"><i class="fas fa-house-damage text-2xl"></i><h2 class="text-xl font-bold">Earthquake</h2></div>
        <div class="box" onclick="showPopup('info3')"><i class="fas fa-wind text-2xl"></i><h2 class="text-xl font-bold">Typhoon</h2></div>
        <div class="box" onclick="showPopup('info4')"><i class="fas fa-water text-2xl"></i><h2 class="text-xl font-bold">Flood</h2></div>
      </div>

      <div class="news-btn"><!--Contoh-->
        <button type="button" class="btn active">All Updates</button>
        <button type="button" class="btn">Fire</button>
        <button type="button" class="btn">Earthquake</button>
        <button type="button" class="btn">Flood</button>
        <button type="button" class="btn">Typhoon</button>
    </div>

    <script>
        function showPopup(infoText) {
          document.getElementById('popup').classList.remove('hidden');
          document.getElementById('popup-text').innerText = infoText;
        }
      
        function closePopup() {
          document.getElementById('popup').classList.add('hidden');
        }
    </script>
    
      <div class="overlay" id="overlay" onclick="closePopup()"></div>
      <div class="popup" id="popup">
        <div id="popup-content">Popup Content</div>
        <button class="close-btn" onclick="closePopup()">Close</button>
      </div>

        <div class="mt-8 flex gap-8 flex-1">
            <!-- MAP: 70% -->
            <div class="evacuation-container w-[70%]">
              <div class="info-box">
                ðŸš¨ Evacuation Route from Ulsan Disaster Area
              </div>
              <div id="evacuation" class="h-[500px] rounded-lg shadow-md"></div>
            </div>
          
            <!-- REPORT: 30% -->
            <div id="report" class="w-[30%] bg-gray-100 p-4 rounded-lg shadow-md">
              <h3 class="text-lg font-semibold mb-2">ðŸ“£ Real-Time Report</h3>
          
              <!-- Dropdown for report type -->
              <label for="reportType" class="block font-medium">Type of Issue</label>
              <select id="reportType" class="w-full p-2 border rounded-md mb-3">
                <option value="">Select issue</option>
                <option value="flood">ðŸŒŠ Flood</option>
                <option value="blocked_road">â›” Blocked Road</option>
                <option value="need_help">ðŸ†˜ Need Help</option>
              </select>
              <!-- Submit button -->
              <button id="submitReport" class="w-full p-2 bg-red-600 text-white rounded-md">
                Submit Report
              </button>
            </div>
          </div>
          
        
        <!--  News -->  
        <div class="mt-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
                <i class="fas fa-newspaper"></i>
                News
            </h2>
                    <div class="search">
                        <input type="text" placeholder="Search updates..." class="flex-grow p-2 border rounded-md">
                        <button class="ml-2 p-2 border rounded-md bg-white">
                            <i class="fas fa-filter"></i> Filters
                        </button>
                    </div>

                    <div class="news-btn">
                        <button type="button" class="btn active">All Updates</button>
                        <button type="button" class="btn">Fire</button>
                        <button type="button" class="btn">Earthquake</button>
                        <button type="button" class="btn">Flood</button>
                        <button type="button" class="btn">Typhoon</button>
                    </div>    
                    <script>
                        const buttons = document.querySelectorAll('.news-btn .btn');
                      
                        buttons.forEach(btn => {
                          btn.addEventListener('click', () => {
                            buttons.forEach(b => b.classList.remove('active'));
                            btn.classList.add('active');
                          });
                        });
                      </script>
                    <div class="news-updates mt-4 space-y-4" id="news-container">
                        <div class="news-bg" data-category="flood">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-exclamation-circle text-red-600 mr-2"></i>
                                <h2 class="text-lg font-semibold text-red-600">Emergency: Flooding Alert in Gangnam District</h2>
                            </div>
                            <div class="flex items-center text-gray-500 text-sm mb-2">
                                <i class="far fa-clock mr-1"></i> 10 minutes ago
                                <i class="fas fa-map-marker-alt mx-2"></i> Gangnam District
                                <span class="ml-auto px-2 py-1 bg-red-200 text-red-600 rounded-md">High Priority</span>
                            </div>
                            <p class="text-gray-700">Heavy rainfall has caused flooding in parts of Gangnam. Residents are advised to avoid underground areas and follow evacuation guidelines.</p>
                        </div>
                        <div class="news-bg" data-category="fire">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                                <h2 class="text-lg font-semibold text-blue-600">Update: Fire Contained in Seocho Building</h2>
                            </div>
                            <div class="flex items-center text-gray-500 text-sm mb-2">
                                <i class="far fa-clock mr-1"></i> 1 hour ago
                                <i class="fas fa-map-marker-alt mx-2"></i> Seocho District
                                <span class="ml-auto px-2 py-1 bg-yellow-200 text-yellow-600 rounded-md">Medium Priority</span>
                            </div>
                            <p class="text-gray-700">Firefighters have successfully contained the fire in the commercial building. No injuries reported.</p>
                        </div>
                        <div class="news-bg" data-category="earthquake">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-check-circle text-green-600 mr-2"></i>
                                <h2 class="text-lg font-semibold text-green-600">Earthquake Safety Guidelines Updated</h2>
                            </div>
                            <div class="flex items-center text-gray-500 text-sm mb-2">
                                <i class="far fa-clock mr-1"></i> 2 hours ago
                                <i class="fas fa-map-marker-alt mx-2"></i> Seoul Metropolitan Area
                                <span class="ml-auto px-2 py-1 bg-green-200 text-green-600 rounded-md">Low Priority</span>
                            </div>
                            <p class="text-gray-700">New safety guidelines have been issued for earthquake preparedness. Review the latest protocols.</p>
                        </div>
                    </div>
                </div>
        </div>

        <!-- Safety Guide -->  
        <div class="mt-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
                <i class="fas fa-info-circle"></i>
                Safety Guide
            </h2>            
            
        <div class="tabs-safety">
            <button class="tablinks" onclick="disaster(event, 'Emergency Preparation')">Emergency Preparation</button>
            <button class="tablinks" onclick="disaster(event, 'Earthquake')">Earthquake</button>
            <button class="tablinks" onclick="disaster(event, 'Fire')">Fire</button>
            <button class="tablinks" onclick="disaster(event, 'Flood')">Flood</button>
            <button class="tablinks" onclick="disaster(event, 'Typhoon')">Typhoon</button>
        </div>
        
        <div class="tabs-wrapper">
            <div id="Emergency Preparation" class="tabs-content">
              <div id="carouselEmergency" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="http://www.brandpointcontent.com/InfoGraphics//18479010101.jpg" class="d-block w-100" alt="Emergency Preparedness">
                  </div>
                  <div class="carousel-item">
                    <img src="https://www150.statcan.gc.ca/n1/pub/11-627-m/image/11-627-m2015004-eng.jpg" class="d-block w-100" alt="Disaster Preparedness">
                  </div>
                  <div class="carousel-item">
                    <img src="https://cdn11.bigcommerce.com/s-5d127/images/stencil/500x659/products/12415/15558/PSTR-1054__12140.1631634126.jpg?c=2" class="d-block w-100" alt="Workplace Safety">
                  </div>
                </div>
                
                <!-- Previous Button -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselEmergency" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                
                <!-- Next Button -->
                <button class="carousel-control-next" type="button" data-bs-target="#carouselEmergency" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
          
          <div class="tabs-wrapper">
            <div id="Earthquake" class="tabs-content">
              <div id="carouselEarthquake" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="https://cdn.dribbble.com/userupload/15682253/file/original-30e5f416059bbb3ae027fab896428291.png?resize=640x1120&vertical=center" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="https://i.pinimg.com/736x/67/d3/18/67d31818ce78b2e78ea4be7eed61bd69.jpg" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="https://s3.amazonaws.com/thumbnails.venngage.com/template/9c7a7d05-2bc6-4e7d-a425-e3f446d35330.png" class="d-block w-100" alt="...">
                  </div>
                </div>
                
                <!-- Previous Button -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselEarthquake" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                
                <!-- Next Button -->
                <button class="carousel-control-next" type="button" data-bs-target="#carouselEarthquake" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
          
          <div class="tabs-wrapper">
            <div id="Fire" class="tabs-content">
              <div id="carouselFire" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="https://cdn.prod.website-files.com/647888ca92d03e3fca3f1ea0/647888ca92d03e3fca3f205d_Fire%20Safety%20Infographic.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="https://pia.gov.ph/uploads/2023/03/a97454a57f3c3b3020710b70264c7fb1.jpg" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="https://corporate.homedepot.com/sites/default/files/image_gallery/firesafetyinfographic-01.jpg" class="d-block w-100" alt="...">
                  </div>
                </div>
                
                <!-- Previous Button -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselFire" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                
                <!-- Next Button -->
                <button class="carousel-control-next" type="button" data-bs-target="#carouselFire" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
    
          <div class="tabs-wrapper">
            <div id="Flood" class="tabs-content">
              <div id="carouselFlood" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="https://hsseworld.com/wp-content/uploads/2022/02/Flood-safety-.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="https://www.cambriancards.com/wp-content/uploads/2019/11/flood-driving.jpg" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="https://corporate.homedepot.com/sites/default/files/image_gallery/firesafetyinfographic-01.jpg" class="d-block w-100" alt="...">
                  </div>
                </div>
                
                <!-- Previous Button -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselFlood" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                
                <!-- Next Button -->
                <button class="carousel-control-next" type="button" data-bs-target="#carouselFlood" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
          
        <div class="tabs-wrapper">
            <div id="Flood" class="tabs-content">
                <div class="slideshow-container">
                    <div class="slides fade">
                        <div class="number-text">1 / 3</div>
                        <img src="" alt="Flood 1">
                    </div>
        
                    <div class="slides fade">
                        <div class="number-text">2 / 3</div>
                        <img src="" alt="Flood 2">
                    </div>
        
                    <div class="slides fade">
                        <div class="number-text">3 / 3</div>
                        <img src="" alt="Flood 3">
                    </div>
        
                    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)">&#10095;</a>
        
                    <br>
                    <div class="dots">
                        <span class="dot" onclick="currentSlide(1)"></span>
                        <span class="dot" onclick="currentSlide(2)"></span>
                        <span class="dot" onclick="currentSlide(3)"></span>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="tabs-wrapper">
            <div id="Typhoon" class="tabs-content">
                <div class="slideshow-container">
                    <div class="slides fade">
                        <div class="number-text">1 / 3</div>
                        <img src="https://media.philstar.com/images/the-philippine-star/headlines/20161019/typhoon-survival-tips-infographic%20%281%29.jpg" alt="Typhoon 1">
                    </div>
        
                    <div class="slides fade">
                        <div class="number-text">2 / 3</div>
                        <img src="https://sa.kapamilya.com/absnews/abscbnnews/media/2019/business/07/10/20190710-moneymax-typhoon-3.jpg" alt="Typhoon 2">
                    </div>
        
                    <div class="slides fade">
                        <div class="number-text">3 / 3</div>
                        <img src="https://panahon.tv/beta/v2/web/app/uploads/2014/08/2.jpg" alt="Typhoon 3">
                    </div>
        
                    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)">&#10095;</a>
        
                    <br>
                    <div class="dots">
                        <span class="dot" onclick="currentSlide(1)"></span>
                        <span class="dot" onclick="currentSlide(2)"></span>
                        <span class="dot" onclick="currentSlide(3)"></span>
                    </div>
                </div>
            </div>
        </div>
        </div>

        
    </main>    <!-- Chatbot Button -->
    <button 
    onclick="toggleChatbot()" 
    class="fixed bottom-0 right-0 bg-red-600 text-white p-4 rounded-full shadow-lg m-4 z-50">
    <i class="fas fa-robot"></i>
    </button>


    <!-- Chatbot Popup -->
    <div id="chatbot-popup" 
    class="fixed bottom-20 right-4 w-80 h-96 bg-white border border-gray-300 rounded-lg shadow-lg z-50"
    style="display: none;">
    <div class="chat-header" style="background-color: #e63946; color: white; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
        <span>     Emergency Assistant</span>
        <button onclick="toggleChatbot()" style="background: none; border: none; color: white; font-size: 18px; cursor: pointer;">Ã—</button>
    </div>
    <iframe src="/chatbot" frameborder="0" style="width: 100%; height: calc(100% - 50px); border: none;"></iframe>
    </div>


    <script src="/static/tab-func.js"></script>
    <script src="/static/safety-image.js"></script>
    <script src="/static/map.js"></script>
    <script src="/static/evacuation.js"></script>
    <script src="/static/news.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>


    <script>
         function toggleChatbot() {
        const popup = document.getElementById("chatbot-popup");
        if (popup.style.display === "none" || popup.style.display === "") {
            popup.style.display = "block";
        } else {
            popup.style.display = "none";
         }
        }

        function showPosition(position) {
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        const map = document.getElementById('map');
        const evacuation = document.getElementById('evacuation');
        }
             
        function adjustFontSize(size) {
        const body = document.body;
        if (size === 'small') {
        body.style.fontSize = '14px';
        } else if (size === 'large') {
        body.style.fontSize = '22px';
        }
    }

    </script>
</body>
</html>
